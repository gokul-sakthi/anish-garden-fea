<div class="max-w-full min-h-screen">
  <app-navbar></app-navbar>
  <!-- modal -->
  <div
    [ngClass]="{ hidden: !modalStatus }"
    (click)="changeModalStatus(false)"
    class="inset-0 absolute bg-gray-900 opacity-80 z-0"
  ></div>
  <div
    [ngClass]="{ hidden: !modalStatus }"
    class="
      border-2
      absolute
      top-1/2
      left-1/2
      transform
      -translate-x-1/2 -translate-y-1/2
      py-4
      px-8
      rounded-lg
      border-gray-400
      z-10
      bg-green-100
      max-w-md
      mx-auto
      block
    "
  >
    <p>Are you sure you want to proceed</p>
    <div class="mt-8 mb-3 flex">
      <button
        class="
          px-7
          py-3
          flex-1
          border-2
          bg-green-500
          shadow-md
          border-green-500
          text-gray-50
          font-bold
          tracking-wider
          rounded-lg
          hover:bg-green-300 hover:border-green-300
          mr-3
        "
        (click)="confirmBuyOrder()"
      >
        Yes
      </button>
      <button
        class="
          px-7
          py-3
          flex-1
          border-2
          bg-red-500
          shadow-md
          border-red-500
          text-gray-50
          font-bold
          tracking-wider
          rounded-lg
          hover:bg-red-300 hover:border-red-300
          mr-3
        "
        (click)="changeModalStatus(false)"
      >
        No
      </button>
    </div>
  </div>

  <!-- Modal end -->

  <div class="py-10 px-14" *ngIf="shoppingCartList.length <= 0">
    <p class="text-4xl text-center text-gray-700 font-semibold tracking-wide">
      No Products in the cart
    </p>
    <button
      class="
        mx-auto
        block
        bg-green-500
        text-gray-50
        py-5
        px-8
        mt-10
        rounded
        text-lg
        shadow-md
        hover:bg-green-300
        focus:bg-green-400
      "
      routerLink="/shop"
    >
      Shop NOW
    </button>
  </div>

  <div class="w-11/12 mx-auto mt-10" *ngIf="shoppingCartList.length > 0">
    <div class="content-cart overflow-y-auto" style="height: 480px">
      <div
        class="
          w-10/12
          shadow-md
          rounded-md
          px-2
          py-4
          my-7
          bg-gray-50
          border-2 border-gray-200
          hover:border-green-300 hover:shadow-sm
          mx-auto
        "
        *ngFor="let item of shoppingCartList; let i = index"
      >
        <div class="flex">
          <!-- <div class="flex w-10 place-content-center">
            <span class="font-bold" style="height: fit-content; margin: auto">{{
              i + 1
            }}</span>
          </div> -->
          <div class="flex mx-2" style="height: 150px; width: 150px">
            <img
              src="../../../assets/images/agave.png"
              class="rounded"
              alt=""
            />
          </div>
          <div class="flex flex-1 space-y-2 flex-col p-3">
            <h3 class="text-2xl font-semibold tracking-wider">
              {{ item.name }}
            </h3>
            <h5 class="text-lg">
              Price
              <span class="text-gray-700 font-semibold">${{ item.price }}</span>
            </h5>
            <h5 class="text-sm">
              Quantity
              <span class="text-gray-700 font-semibold">{{
                item.quantity
              }}</span>
            </h5>
          </div>

          <div class="flex items-center mx-2">
            <span
              (click)="addToCart(item)"
              class="material-icons cursor-pointer mx-1 text-3xl text-gray-700"
            >
              add_circle
            </span>
            <span
              (click)="subtractFromCart(item)"
              class="material-icons cursor-pointer mx-2 text-3xl text-gray-600"
            >
              remove_circle_outline
            </span>
            <span
              (click)="removeFromCart(item)"
              class="material-icons cursor-pointer mx-1 text-3xl text-red-400"
            >
              delete
            </span>
          </div>
        </div>
      </div>
    </div>

    <div class="bg-gray-50 bottom-0 h-32 py-2 px-5 flex w-full">
      <div
        class="
          flex-1 flex
          text-3xl text-gray-800
          font-semibold
          m-3
          items-center
        "
      >
        Total <span class="text-green-500 mx-2">$345</span>
      </div>
      <div class="flex items-center">
        <button
          class="
            py-6
            px-14
            text-gray-50
            bg-green-400
            transition-colors
            hover:text-gray-800 hover:bg-green-100
            text-2xl
            mr-5
            rounded-md
            border-2
            hover:border-green-400
          "
          (click)="changeModalStatus(true)"
        >
          Buy Now
        </button>
      </div>
    </div>
  </div>
</div>
